"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[594],{603:function(e,l,r){r.r(l),r.d(l,{default:function(){return c}});var t=r(6768);const o={class:"about"};function i(e,l){return(0,t.uX)(),(0,t.CE)("div",o,l[0]||(l[0]=[(0,t.Lk)("h1",null,"This is an about page",-1)]))}var n=r(1241);const a={},s=(0,n.A)(a,[["render",i]]);var c=s},3057:function(e,l,r){r.r(l),r.d(l,{default:function(){return F}});var t=r(6768),o=r(4232),i=r(5130);const n={class:"profile-container"},a={class:"profile-header"},s={class:"image-placeholder"},c=["src"],u={key:1},p={class:"info"},d={key:0,class:"edit-form"},f={class:"upload-section"},h=["src"],k={class:"search-section"},L={key:0,class:"search-results"},v={key:1,class:"no-results"};function m(e,l,r,m,b,g){const y=(0,t.g2)("PostFeed");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",a,[(0,t.Lk)("div",s,[b.profile.profile_picture?((0,t.uX)(),(0,t.CE)("img",{key:0,src:b.profile.profile_picture,alt:"Profile Picture"},null,8,c)):((0,t.uX)(),(0,t.CE)("span",u,"No Image"))]),(0,t.Lk)("div",p,[(0,t.Lk)("h2",null,(0,o.v_)(b.profile.name),1),(0,t.Lk)("p",null,[l[11]||(l[11]=(0,t.Lk)("strong",null,"Branch:",-1)),(0,t.eW)(" "+(0,o.v_)(b.profile.branch),1)]),(0,t.Lk)("p",null,[l[12]||(l[12]=(0,t.Lk)("strong",null,"Year:",-1)),(0,t.eW)(" "+(0,o.v_)(b.profile.year),1)]),(0,t.Lk)("p",null,[l[13]||(l[13]=(0,t.Lk)("strong",null,"Skills:",-1)),(0,t.eW)(" "+(0,o.v_)(b.profile.skills),1)]),(0,t.Lk)("p",null,[l[14]||(l[14]=(0,t.Lk)("strong",null,"About:",-1)),(0,t.eW)(" "+(0,o.v_)(b.profile.About),1)]),(0,t.Lk)("button",{onClick:l[0]||(l[0]=e=>b.editing=!0),class:"btn btn-edit"},"Edit Profile")])]),b.editing?((0,t.uX)(),(0,t.CE)("div",d,[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>b.profile.name=e),placeholder:"Name"},null,512),[[i.Jo,b.profile.name]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>b.profile.branch=e),placeholder:"Branch"},null,512),[[i.Jo,b.profile.branch]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>b.profile.year=e),placeholder:"Year"},null,512),[[i.Jo,b.profile.year]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>b.profile.skills=e),placeholder:"Skills"},null,512),[[i.Jo,b.profile.skills]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>b.profile.About=e),placeholder:"About"},null,512),[[i.Jo,b.profile.About]]),(0,t.Lk)("div",f,[(0,t.Lk)("input",{type:"file",onChange:l[6]||(l[6]=(...e)=>g.onFileChange&&g.onFileChange(...e))},null,32),b.previewUrl?((0,t.uX)(),(0,t.CE)("img",{key:0,src:b.previewUrl,class:"preview-img"},null,8,h)):(0,t.Q3)("",!0),(0,t.Lk)("button",{onClick:l[7]||(l[7]=(...e)=>g.uploadPicture&&g.uploadPicture(...e)),class:"btn btn-upload"},"Upload Picture")]),(0,t.Lk)("button",{onClick:l[8]||(l[8]=(...e)=>g.updateProfile&&g.updateProfile(...e)),class:"btn btn-save"},"Save")])):(0,t.Q3)("",!0),(0,t.Lk)("div",k,[l[19]||(l[19]=(0,t.Lk)("h3",{class:"section-title"},"Search Profiles",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>b.searchQuery=e),onInput:l[10]||(l[10]=(...e)=>g.filterProfiles&&g.filterProfiles(...e)),placeholder:"Search by name, branch, year or skills...",class:"search-bar"},null,544),[[i.Jo,b.searchQuery]]),b.filteredProfiles.length>0?((0,t.uX)(),(0,t.CE)("div",L,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(b.filteredProfiles,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"profile-card"},[(0,t.Lk)("h4",null,(0,o.v_)(e.name),1),(0,t.Lk)("p",null,[l[15]||(l[15]=(0,t.Lk)("strong",null,"Branch:",-1)),(0,t.eW)(" "+(0,o.v_)(e.branch),1)]),(0,t.Lk)("p",null,[l[16]||(l[16]=(0,t.Lk)("strong",null,"Year:",-1)),(0,t.eW)(" "+(0,o.v_)(e.year),1)]),(0,t.Lk)("p",null,[l[17]||(l[17]=(0,t.Lk)("strong",null,"Skills:",-1)),(0,t.eW)(" "+(0,o.v_)(e.skills),1)]),(0,t.Lk)("p",null,[l[18]||(l[18]=(0,t.Lk)("strong",null,"About:",-1)),(0,t.eW)(" "+(0,o.v_)(e.About),1)])])))),128))])):b.searchQuery.trim()?((0,t.uX)(),(0,t.CE)("div",v,"No profiles found.")):(0,t.Q3)("",!0)]),l[20]||(l[20]=(0,t.Lk)("h3",{class:"section-title"},"Posts",-1)),(0,t.bF)(y)])}r(8111),r(2489);const b={class:"post-feed"};function g(e,l,r,i,n,a){return(0,t.uX)(),(0,t.CE)("div",b,[l[0]||(l[0]=(0,t.Lk)("h2",null,"Recent Posts",-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.posts,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"post-card"},[(0,t.Lk)("h3",null,(0,o.v_)(e.title),1),(0,t.Lk)("p",null,(0,o.v_)(e.content),1),(0,t.Lk)("small",null,"By "+(0,o.v_)(e.author)+" â€¢ "+(0,o.v_)(e.date),1)])))),128))])}var y={name:"PostFeed",data(){return{posts:[{id:1,title:"Welcome to the platform!",content:"This is a sample post from the system.",author:"Admin",date:"2025-05-10"},{id:2,title:"Study group for nanoelectronics?",content:"Anyone up for a session this weekend?",author:"Balkrishna",date:"2025-05-09"}]}}},P=r(1241);const w=(0,P.A)(y,[["render",g],["__scopeId","data-v-4b640090"]]);var C=w,_={components:{PostFeed:C},data(){return{profile:{},editing:!1,searchQuery:"",allProfiles:[],filteredProfiles:[],selectedFile:null,previewUrl:null}},methods:{async fetchProfile(){try{const e=await fetch("/profile/profile/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch profile");const l=await e.json();this.profile=l}catch(e){console.error(e)}},async updateProfile(){try{const e=await fetch("/profile/profile/me",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(this.profile)});if(!e.ok)throw new Error("Failed to update profile");this.editing=!1}catch(e){console.error(e),alert("Error updating profile.")}},async fetchAllProfiles(){try{const e=await fetch("/profile/profiles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch profiles");const l=await e.json();this.allProfiles=l,this.filteredProfiles=l}catch(e){console.error("Error fetching all profiles:",e)}},filterProfiles(){const e=this.searchQuery.toLowerCase();this.filteredProfiles=this.allProfiles.filter((l=>l.name.toLowerCase().includes(e)||l.branch.toLowerCase().includes(e)||l.year.toLowerCase().includes(e)||l.skills.toLowerCase().includes(e)))},onFileChange(e){const l=e.target.files[0];l&&(this.selectedFile=l,this.previewUrl=URL.createObjectURL(l))},async uploadPicture(){if(!this.selectedFile)return void alert("Please select a file first.");const e=new FormData;e.append("picture",this.selectedFile);try{const l=await fetch("/profile/upload-picture",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:e});if(!l.ok)throw new Error("Failed to upload picture");const r=await l.json();this.profile.profile_picture=r.profile_picture,this.previewUrl=null,this.selectedFile=null,alert("Profile picture updated!")}catch(l){console.error(l),alert("Error uploading profile picture.")}}},mounted(){this.fetchProfile(),this.fetchAllProfiles()}};const E=(0,P.A)(_,[["render",m],["__scopeId","data-v-626508ca"]]);var F=E}}]);
//# sourceMappingURL=about.82304e2b.js.map