"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[594],{603:function(e,l,r){r.r(l),r.d(l,{default:function(){return c}});var o=r(6768);const t={class:"about"};function i(e,l){return(0,o.uX)(),(0,o.CE)("div",t,l[0]||(l[0]=[(0,o.Lk)("h1",null,"This is an about page",-1)]))}var a=r(1241);const n={},s=(0,a.A)(n,[["render",i]]);var c=s},9747:function(e,l,r){r.r(l),r.d(l,{default:function(){return m}});var o=r(6768),t=r(4232),i=r(5130);const a={class:"profile-container"},n={class:"profile-header"},s={class:"image-placeholder"},c=["src"],u={key:1},f={class:"info"},p={key:0,class:"edit-form"},d={class:"upload-section"},h=["src"],k={class:"search-section"},L={key:0,class:"search-results"},b={key:1,class:"no-results"};function v(e,l,r,v,g,y){return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",n,[(0,o.Lk)("div",s,[g.profile.profile_picture?((0,o.uX)(),(0,o.CE)("img",{src:g.profile.profile_picture,key:g.profile.profile_picture,alt:"Profile Picture"},null,8,c)):((0,o.uX)(),(0,o.CE)("span",u,"No Image"))]),(0,o.Lk)("div",f,[(0,o.Lk)("h2",null,(0,t.v_)(g.profile.name),1),(0,o.Lk)("p",null,[l[11]||(l[11]=(0,o.Lk)("strong",null,"Branch:",-1)),(0,o.eW)(" "+(0,t.v_)(g.profile.branch),1)]),(0,o.Lk)("p",null,[l[12]||(l[12]=(0,o.Lk)("strong",null,"Year:",-1)),(0,o.eW)(" "+(0,t.v_)(g.profile.year),1)]),(0,o.Lk)("p",null,[l[13]||(l[13]=(0,o.Lk)("strong",null,"Skills:",-1)),(0,o.eW)(" "+(0,t.v_)(g.profile.skills),1)]),(0,o.Lk)("p",null,[l[14]||(l[14]=(0,o.Lk)("strong",null,"About:",-1)),(0,o.eW)(" "+(0,t.v_)(g.profile.About),1)]),(0,o.Lk)("button",{onClick:l[0]||(l[0]=e=>g.editing=!0),class:"btn btn-edit"},"Edit Profile")])]),g.editing?((0,o.uX)(),(0,o.CE)("div",p,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>g.profile.name=e),placeholder:"Name"},null,512),[[i.Jo,g.profile.name]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>g.profile.branch=e),placeholder:"Branch"},null,512),[[i.Jo,g.profile.branch]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>g.profile.year=e),placeholder:"Year"},null,512),[[i.Jo,g.profile.year]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>g.profile.skills=e),placeholder:"Skills"},null,512),[[i.Jo,g.profile.skills]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>g.profile.About=e),placeholder:"About"},null,512),[[i.Jo,g.profile.About]]),(0,o.Lk)("div",d,[(0,o.Lk)("input",{type:"file",onChange:l[6]||(l[6]=(...e)=>y.onFileChange&&y.onFileChange(...e))},null,32),g.previewUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:g.previewUrl,class:"preview-img"},null,8,h)):(0,o.Q3)("",!0),(0,o.Lk)("button",{onClick:l[7]||(l[7]=(...e)=>y.uploadPicture&&y.uploadPicture(...e)),class:"btn btn-upload"},"Upload Picture")]),(0,o.Lk)("button",{onClick:l[8]||(l[8]=(...e)=>y.updateProfile&&y.updateProfile(...e)),class:"btn btn-save"},"Save")])):(0,o.Q3)("",!0),(0,o.Lk)("div",k,[l[19]||(l[19]=(0,o.Lk)("h3",{class:"section-title"},"Search Profiles",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>g.searchQuery=e),onInput:l[10]||(l[10]=(...e)=>y.filterProfiles&&y.filterProfiles(...e)),placeholder:"Search by name, branch, year or skills...",class:"search-bar"},null,544),[[i.Jo,g.searchQuery]]),g.filteredProfiles.length>0?((0,o.uX)(),(0,o.CE)("div",L,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.filteredProfiles,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"profile-card"},[(0,o.Lk)("h4",null,(0,t.v_)(e.name),1),(0,o.Lk)("p",null,[l[15]||(l[15]=(0,o.Lk)("strong",null,"Branch:",-1)),(0,o.eW)(" "+(0,t.v_)(e.branch),1)]),(0,o.Lk)("p",null,[l[16]||(l[16]=(0,o.Lk)("strong",null,"Year:",-1)),(0,o.eW)(" "+(0,t.v_)(e.year),1)]),(0,o.Lk)("p",null,[l[17]||(l[17]=(0,o.Lk)("strong",null,"Skills:",-1)),(0,o.eW)(" "+(0,t.v_)(e.skills),1)]),(0,o.Lk)("p",null,[l[18]||(l[18]=(0,o.Lk)("strong",null,"About:",-1)),(0,o.eW)(" "+(0,t.v_)(e.About),1)])])))),128))])):g.searchQuery.trim()?((0,o.uX)(),(0,o.CE)("div",b,"No profiles found.")):(0,o.Q3)("",!0)])])}r(8111),r(2489);var g={data(){return{profile:{},editing:!1,searchQuery:"",allProfiles:[],filteredProfiles:[],selectedFile:null,previewUrl:null}},methods:{async fetchProfile(){try{const e=await fetch("/profile/profile/me",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch profile");const l=await e.json();this.profile=l}catch(e){console.error(e)}},async updateProfile(){try{const e=await fetch("/profile/profile/me",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(this.profile)});if(!e.ok)throw new Error("Failed to update profile");this.editing=!1,await this.fetchProfile(),alert("Profile updated successfully.")}catch(e){console.error(e),alert("Error updating profile.")}},async fetchAllProfiles(){try{const e=await fetch("/profile/profiles",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch profiles");const l=await e.json();this.allProfiles=l,this.filteredProfiles=l}catch(e){console.error("Error fetching all profiles:",e)}},filterProfiles(){const e=this.searchQuery.toLowerCase();this.filteredProfiles=this.allProfiles.filter((l=>l.name.toLowerCase().includes(e)||l.branch.toLowerCase().includes(e)||l.year.toLowerCase().includes(e)||l.skills.toLowerCase().includes(e)))},onFileChange(e){const l=e.target.files[0];l&&(this.selectedFile=l,this.previewUrl=URL.createObjectURL(l))},async uploadPicture(){if(!this.selectedFile)return void alert("Please select a file first.");const e=new FormData;e.append("picture",this.selectedFile);try{const l=await fetch("/profile/upload-profile-picture",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:e});if(!l.ok)throw new Error("Failed to upload picture");alert("Profile picture updated!"),this.previewUrl=null,this.selectedFile=null,await this.fetchProfile()}catch(l){console.error(l),alert("Error uploading profile picture.")}}},mounted(){this.fetchProfile(),this.fetchAllProfiles()}},y=r(1241);const P=(0,y.A)(g,[["render",v],["__scopeId","data-v-c1b43cee"]]);var m=P}}]);
//# sourceMappingURL=about.1ffef1df.js.map