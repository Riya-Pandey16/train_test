"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[966],{69:function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var s=o(6768),a=o(5130),n=o(4232);const r={class:"login-container"},i={key:0,class:"error"};function l(e,t,o,l,u,c){return(0,s.uX)(),(0,s.CE)("div",r,[t[4]||(t[4]=(0,s.Lk)("h2",null,"Login",-1)),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>c.login&&c.login(...e)),["prevent"]))},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),placeholder:"Username",required:""},null,512),[[a.Jo,e.username]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.password=e),type:"password",placeholder:"Password",required:""},null,512),[[a.Jo,u.password]]),t[3]||(t[3]=(0,s.Lk)("button",{type:"submit"},"Login",-1)),u.errorMessage?((0,s.uX)(),(0,s.CE)("p",i,(0,n.v_)(u.errorMessage),1)):(0,s.Q3)("",!0)],32)])}o(4114);var u={data(){return{email:"",password:"",errorMessage:""}},methods:{async login(){try{const e=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();if(!e.ok)return void(this.errorMessage=t.error||"Login failed");localStorage.setItem("token",t.access_token),localStorage.setItem("is_admin",t.is_admin),this.$router.push(t.is_admin?"/admin":"/home")}catch(e){console.error("Login error:",e),this.errorMessage="An error occurred while logging in."}}}},c=o(1241);const d=(0,c.A)(u,[["render",l],["__scopeId","data-v-e00d8aac"]]);var p=d},1540:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var s=o(6768);const a={class:"home-view"},n={class:"features"};function r(e,t,o,r,i,l){const u=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",a,[t[4]||(t[4]=(0,s.Lk)("section",{class:"hero"},[(0,s.Lk)("h1",null,"Welcome to UniConnect"),(0,s.Lk)("p",null,"A student social platform to share knowledge, connect with peers, and grow together.")],-1)),(0,s.Lk)("section",n,[(0,s.bF)(u,{to:"/post",class:"feature-card"},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("h2",null,"ðŸ“Œ Share Posts",-1),(0,s.Lk)("p",null,"Post ideas, videos, notes, and academic resources. See what others are sharing!",-1)]))),_:1}),(0,s.bF)(u,{to:"/msg",class:"feature-card"},{default:(0,s.k6)((()=>t[1]||(t[1]=[(0,s.Lk)("h2",null,"ðŸ’¬ Message Friends",-1),(0,s.Lk)("p",null,"Chat directly with students from any year or branch and clear doubts together.",-1)]))),_:1}),(0,s.bF)(u,{to:"/sessions",class:"feature-card"},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.Lk)("h2",null,"ðŸ“š Join Sessions",-1),(0,s.Lk)("p",null,"Attend or host group sessions and collaborative study events.",-1)]))),_:1}),(0,s.bF)(u,{to:"/profile",class:"feature-card"},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.Lk)("h2",null,"ðŸ™‹ Your Profile",-1),(0,s.Lk)("p",null,"Showcase your branch, year, skills, and connect with others academically.",-1)]))),_:1})])])}var i={name:"HomeView"},l=o(1241);const u=(0,l.A)(i,[["render",r],["__scopeId","data-v-a4a78824"]]);var c=u},2344:function(e,t,o){o.r(t),o.d(t,{default:function(){return b}});var s=o(6768),a=o(5130),n=o(4232);const r={class:"post-page"},i={class:"search-bar"},l={class:"post-feed"},u={class:"post-header"},c={class:"meta"},d={class:"post-content"},p={key:0},h=["href"],m={key:1},k={key:0};function v(e,t,o,v,g,f){return(0,s.uX)(),(0,s.CE)("div",r,[t[8]||(t[8]=(0,s.Lk)("h2",null,"ðŸ“¢ Share Your Ideas / Notes / Videos",-1)),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>f.submitPost&&f.submitPost(...e)),["prevent"])),class:"post-form"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.newPost.title=e),type:"text",placeholder:"Enter post title (e.g., My Notes on AI)",required:""},null,512),[[a.Jo,g.newPost.title]]),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.newPost.content=e),placeholder:"Write your idea, note, or video link here...",required:""},null,512),[[a.Jo,g.newPost.content]]),t[4]||(t[4]=(0,s.Lk)("button",{type:"submit"},"Post",-1))],32),(0,s.Lk)("div",i,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>g.searchQuery=e),type:"text",placeholder:"ðŸ” Search posts by title, content, or author"},null,512),[[a.Jo,g.searchQuery]])]),(0,s.Lk)("div",l,[t[7]||(t[7]=(0,s.Lk)("h3",null,"ðŸ“ Recent Posts",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(f.filteredPosts,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"post-card",key:e.id},[(0,s.Lk)("div",u,[(0,s.Lk)("strong",null,(0,n.v_)(e.author.name),1),(0,s.Lk)("span",c,(0,n.v_)(e.author.branch)+", Year "+(0,n.v_)(e.author.year),1)]),(0,s.Lk)("div",d,[(0,s.Lk)("h4",null,(0,n.v_)(e.title),1),f.isYouTubeLink(e.content)?((0,s.uX)(),(0,s.CE)("p",p,[t[5]||(t[5]=(0,s.eW)(" ðŸ“¹ Video Link: ")),(0,s.Lk)("a",{href:e.content,target:"_blank"},(0,n.v_)(e.content),9,h)])):((0,s.uX)(),(0,s.CE)("p",m,(0,n.v_)(e.content),1))])])))),128)),0===f.filteredPosts.length?((0,s.uX)(),(0,s.CE)("div",k,t[6]||(t[6]=[(0,s.Lk)("p",null,"No posts found matching your search.",-1)]))):(0,s.Q3)("",!0)])])}o(8111),o(2489);var g={name:"PostView",data(){return{currentUser:{id:1,name:"You",branch:"CSE",year:3},searchQuery:"",newPost:{title:"",content:""},posts:[]}},computed:{filteredPosts(){const e=this.searchQuery.toLowerCase();return this.posts.filter((t=>t.title.toLowerCase().includes(e)||t.content.toLowerCase().includes(e)||t.author.name.toLowerCase().includes(e)))}},methods:{async fetchPosts(){try{const e=await fetch("/posts");if(!e.ok)throw new Error("Failed to fetch posts");const t=await e.json();this.posts=t}catch(e){console.error(e)}},async submitPost(){const e={title:this.newPost.title,content:this.newPost.content,author:this.currentUser};try{const t=await fetch("/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to submit post");const o=await t.json();this.posts.unshift(o),this.newPost.title="",this.newPost.content=""}catch(t){console.error(t)}},isYouTubeLink(e){return e.includes("youtube.com")||e.includes("youtu.be")}},mounted(){this.fetchPosts()}},f=o(1241);const L=(0,f.A)(g,[["render",v],["__scopeId","data-v-6fe26a33"]]);var b=L},5314:function(e,t,o){o.r(t),o.d(t,{default:function(){return T}});o(4114),o(8111),o(2489);var s=o(6768),a=o(4232),n=o(5130),r=o(144),i=o(1714);const l={class:"msg-view-container"},u={class:"sidebar"},c=["title"],d=["onClick"],p=["src"],h={key:0,class:"chat-area"},m={class:"chat-header"},k=["src"],v={class:"status"},g={class:"msg-content"},f={key:0},L=["href"],b={key:1},y={class:"timestamp"},w={class:"reactions"},C={class:"chat-input"},_=["onKeyup"],S={key:0,class:"emoji-picker"},E=["onClick"],P={key:1,class:"no-user"};var I={__name:"MsgView",setup(e){const t=(0,i.io)(),o=(0,r.KR)([]),I=(0,r.KR)(""),X=(0,r.KR)([]),A=(0,r.KR)(""),T=(0,r.KR)(null),U=(0,r.KR)(!1),j=(0,r.KR)(!1),V=(0,r.KR)(null),J=(0,r.Kh)({id:0,name:""}),x=["ðŸ˜€","ðŸ˜‚","ðŸ˜","ðŸ˜¢","ðŸ˜¡","ðŸ‘","ðŸ‘Ž","â¤ï¸","ðŸŽ‰"],K=async()=>{const e=await fetch("/chat/users",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});o.value=await e.json()},$=(0,s.EW)((()=>o.value.filter((e=>e.name.toLowerCase().includes(I.value.toLowerCase()))))),F=async e=>{T.value=e;const t=await fetch(`/chat/messages/${e.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});X.value=await t.json(),(0,s.dY)((()=>Y()))},R=async()=>{if(!A.value.trim())return;const e={content:A.value,receiver_id:T.value.id},o=await fetch("/chat/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)}),s=await o.json();X.value.push(s),A.value="",t.emit("send_message",s),Y()},O=()=>{t.emit("typing",{to:T.value.id})},Y=()=>{(0,s.dY)((()=>{V.value&&(V.value.scrollTop=V.value.scrollHeight)}))},q=e=>{A.value+=e,U.value=!1},M=()=>{U.value=!U.value},D=(0,r.KR)(!1),N=()=>{D.value=!D.value,document.documentElement.classList.toggle("dark-mode",D.value),localStorage.setItem("theme",D.value?"dark":"light")};(0,s.sV)((()=>{const e=localStorage.getItem("theme");"dark"===e&&(D.value=!0,document.documentElement.classList.add("dark-mode"))}));const W=async e=>{const o=e.target.files[0];if(!o)return;const s=new FormData;s.append("file",o);const a=await fetch("/chat/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:s}),n=await a.json(),r={file:n.url,receiver_id:T.value.id},i=await fetch("/chat/messages",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(r)}),l=await i.json();X.value.push(l),t.emit("send_message",l),Y()},B=()=>{document.querySelector('input[type="file"]').click()},Q=e=>new Date(e).toLocaleTimeString();return t.on("receive_message",(e=>{e.sender_id===T.value?.id&&(X.value.push(e),Y())})),t.on("user_typing",(({from:e})=>{T.value&&T.value.id===e&&(j.value=!0,setTimeout((()=>j.value=!1),1500))})),(0,s.sV)((()=>{K()})),(e,t)=>((0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",u,[(0,s.Lk)("button",{class:"theme-toggle",onClick:N,title:D.value?"Light Mode":"Dark Mode"},(0,a.v_)(D.value?"ðŸŒ™":"â˜€ï¸"),9,c),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>I.value=e),onInput:K,placeholder:"Search users...",class:"search-bar"},null,544),[[n.Jo,I.value]]),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)($.value,(t=>((0,s.uX)(),(0,s.CE)("li",{key:t.id,onClick:e=>F(t),class:(0,a.C4)({active:T.value?.id===t.id})},[(0,s.Lk)("img",{src:t.profile_picture||e.defaultProfile,class:"avatar"},null,8,p),(0,s.Lk)("span",null,(0,a.v_)(t.name),1)],10,d)))),128))])]),T.value?((0,s.uX)(),(0,s.CE)("div",h,[(0,s.Lk)("div",m,[(0,s.Lk)("img",{src:T.value.profile_picture||e.defaultProfile,class:"avatar"},null,8,k),(0,s.Lk)("h3",null,(0,a.v_)(T.value.name),1),(0,s.Lk)("div",v,(0,a.v_)(j.value?`${T.value.name} is typing...`:""),1)]),(0,s.Lk)("div",{class:"chat-messages",ref_key:"chatMessages",ref:V},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(X.value,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,a.C4)(["message",{own:e.sender_id===J.id}])},[(0,s.Lk)("div",g,[e.file?((0,s.uX)(),(0,s.CE)("div",f,[(0,s.Lk)("a",{href:e.file,target:"_blank"},"ðŸ“Ž File",8,L)])):((0,s.uX)(),(0,s.CE)("div",b,(0,a.v_)(e.content),1)),(0,s.Lk)("span",y,(0,a.v_)(Q(e.timestamp)),1)]),(0,s.Lk)("div",w,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.reactions,((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t},(0,a.v_)(e),1)))),128))])],2)))),128))],512),(0,s.Lk)("div",C,[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>A.value=e),onKeyup:(0,n.jR)((0,n.D$)(R,["exact","prevent"]),["enter"]),onInput:O,placeholder:"Type a message..."},null,40,_),[[n.Jo,A.value]]),(0,s.Lk)("input",{type:"file",ref:"fileInput",onChange:W,hidden:""},null,544),(0,s.Lk)("button",{onClick:B},"ðŸ“Ž"),(0,s.Lk)("button",{onClick:M},"ðŸ˜Š"),(0,s.Lk)("button",{onClick:R},"Send")]),U.value?((0,s.uX)(),(0,s.CE)("div",S,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(x,(e=>(0,s.Lk)("span",{key:e,onClick:t=>q(e)},(0,a.v_)(e),9,E))),64))])):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("div",P,t[2]||(t[2]=[(0,s.Lk)("p",null,"Select a user to start chatting.",-1)])))]))}},X=o(1241);const A=(0,X.A)(I,[["__scopeId","data-v-9ddf582a"]]);var T=A},7070:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var s=o(6768),a=o(5130);const n={class:"p-6 max-w-3xl mx-auto"},r={class:"grid grid-cols-1 gap-4 mb-8"},i={class:"bg-white rounded-xl shadow-md p-6 border border-gray-200"};function l(e,t,o,l,u,c){const d=(0,s.g2)("GroupSessionCard");return(0,s.uX)(),(0,s.CE)("div",n,[t[5]||(t[5]=(0,s.Lk)("h2",{class:"text-2xl font-semibold mb-4 text-center"},"ðŸ“… Upcoming Sessions",-1)),(0,s.Lk)("div",r,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(3,(e=>(0,s.bF)(d,{key:e}))),64))]),(0,s.Lk)("div",i,[t[4]||(t[4]=(0,s.Lk)("h3",{class:"text-xl font-bold mb-4"},"âž• Create New Session",-1)),(0,s.Lk)("form",{onSubmit:t[2]||(t[2]=(0,a.D$)(((...e)=>c.createSession&&c.createSession(...e)),["prevent"])),class:"space-y-4"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.topic=e),placeholder:"Enter session topic",required:"",class:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[a.Jo,u.topic]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.time=e),type:"datetime-local",required:"",class:"w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[a.Jo,u.time]]),t[3]||(t[3]=(0,s.Lk)("button",{type:"submit",class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-200"}," Create Session ",-1))],32)])])}var u=o(4232);const c={class:"session-card"};function d(e,t,o,a,n,r){return(0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("h4",null,(0,u.v_)(o.session.topic||"Doubt Clearing Session"),1),(0,s.Lk)("p",null,[t[1]||(t[1]=(0,s.Lk)("strong",null,"Time:",-1)),(0,s.eW)(" "+(0,u.v_)(o.session.time||"TBD"),1)]),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.joinSession&&r.joinSession(...e))},"Join")])}var p={props:{session:{type:Object,default:()=>({})}},methods:{joinSession(){alert("Redirecting to session (mock)...")}}},h=o(1241);const m=(0,h.A)(p,[["render",d],["__scopeId","data-v-2583b8f2"]]);var k=m,v={components:{GroupSessionCard:k},data(){return{topic:"",time:""}},methods:{async createSession(){try{const e=localStorage.getItem("token");if(!e)return void alert("âŒ You must be logged in to create a session");const t=await fetch("/session/create",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({topic:this.topic,time:this.time})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Unknown error")}const o=await t.json();alert(`âœ… Session created: "${o.topic}" at ${new Date(o.time).toLocaleString()}`),this.topic="",this.time=""}catch(e){alert(`âŒ Error: ${e.message}`),console.error(e)}}}};const g=(0,h.A)(v,[["render",l],["__scopeId","data-v-611f220f"]]);var f=g},8059:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var s=o(6768);const a={class:"landing-container"},n={class:"landing-content"};function r(e,t){const o=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",n,[t[1]||(t[1]=(0,s.Lk)("h1",null,[(0,s.eW)("Welcome to "),(0,s.Lk)("span",{class:"highlight"},"UniConnect")],-1)),t[2]||(t[2]=(0,s.Lk)("p",{class:"subtitle"},"Where every university student finds their community",-1)),(0,s.bF)(o,{to:"/home"},{default:(0,s.k6)((()=>t[0]||(t[0]=[(0,s.Lk)("button",{class:"cta-button"},"Get Started",-1)]))),_:1})])])}var i=o(1241);const l={},u=(0,i.A)(l,[["render",r],["__scopeId","data-v-5b204249"]]);var c=u},9309:function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var s=o(6768),a=o(5130),n=o(4232);const r={class:"register-container"},i={class:"checkbox-label"},l={key:0,class:"message"};function u(e,t,o,u,c,d){return(0,s.uX)(),(0,s.CE)("div",r,[t[11]||(t[11]=(0,s.Lk)("h2",null,"Join UniConnect",-1)),(0,s.Lk)("form",{onSubmit:t[6]||(t[6]=(0,a.D$)(((...e)=>d.register&&d.register(...e)),["prevent"])),class:"register-form"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.username=e),placeholder:"Username",required:""},null,512),[[a.Jo,c.username]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>c.email=e),type:"email",placeholder:"Email",required:""},null,512),[[a.Jo,c.email]]),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>c.password=e),type:"password",placeholder:"Password",required:""},null,512),[[a.Jo,c.password]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>c.branch=e),required:""},t[7]||(t[7]=[(0,s.Lk)("option",{value:"",disabled:""},"Select Branch",-1),(0,s.Lk)("option",null,"CSE",-1),(0,s.Lk)("option",null,"ECE",-1),(0,s.Lk)("option",null,"ME",-1),(0,s.Lk)("option",null,"CE",-1),(0,s.Lk)("option",null,"EE",-1),(0,s.Lk)("option",null,"IT",-1)]),512),[[a.u1,c.branch]]),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>c.year=e),required:""},t[8]||(t[8]=[(0,s.Lk)("option",{value:"",disabled:""},"Select Year",-1),(0,s.Lk)("option",null,"1st Year",-1),(0,s.Lk)("option",null,"2nd Year",-1),(0,s.Lk)("option",null,"3rd Year",-1),(0,s.Lk)("option",null,"4th Year",-1)]),512),[[a.u1,c.year]]),(0,s.Lk)("label",i,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>c.isAdmin=e)},null,512),[[a.lH,c.isAdmin]]),t[9]||(t[9]=(0,s.eW)(" Register as Admin (Admins can manage users and posts) "))]),t[10]||(t[10]=(0,s.Lk)("button",{type:"submit",class:"register-button"},"Register",-1)),c.message?((0,s.uX)(),(0,s.CE)("p",l,(0,n.v_)(c.message),1)):(0,s.Q3)("",!0)],32)])}o(4114);var c={data(){return{username:"",email:"",password:"",branch:"",year:"",isAdmin:!1,message:""}},methods:{async register(){if(this.username&&this.email&&this.password&&this.branch&&this.year)try{const e=await fetch("/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,email:this.email,password:this.password,branch:this.branch,year:this.year,is_admin:this.isAdmin})}),t=await e.json();e.ok?(this.message="Registration successful! Redirecting to login...",setTimeout((()=>this.$router.push("/login")),2e3)):this.message=t.error||"Registration failed."}catch(e){console.error(e),this.message="Something went wrong. Try again later."}else this.message="Please fill in all fields."}}},d=o(1241);const p=(0,d.A)(c,[["render",u],["__scopeId","data-v-2bbd9fbf"]]);var h=p}}]);
//# sourceMappingURL=login.976b8606.js.map